import { processTest, populateTransaction } from "../test.fixture";

const contractName = "LiFiDiamond";

const testLabel = "SBTVNXTP_known_token_unknown_chain_calldata_true"; // <= Name of the test
const testDirSuffix = "SBTVNXTP_known_token_unknown_chain_calldata_true"; // <= directory to compare device snapshots to
const testNetwork = "ethereum";
const signedPlugin = false;

const contractAddr = "0x362fa9d0bca5d19f743db50738345ce2b40ec99f";
const chainID = 1;

// From : https://etherscan.io/tx/0x65d0a0a11bafc1ddc6e83d2cbb4342dcae1d3e9ab1022aff0cbb8947a7dc989a
const inputData = "0x7d7aecd300000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180f0233798a7cc8d4e424ed8de1c3704e92c9aaa80e2c1f0309748192c3ce23be400000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb48000000000000000000000000000000000000000000000000000000000000000000000000000000000000000075901f889236bf48934b7c2ddb109bec172e232200000000000000000000000000000000000000000000000000000000000023290000000000000000000000000000000000000000000000000000000000989680000000000000000000000000000000000000000000000000000000000000000e7472616e73666572746f2e78797a00000000000000000000000000000000000000000000000000000000000031efc4aeaa7c39e54a33fdc3c46ee2bd70ae0a09000000000000000000000000997f29174a766a1da04cf77d135d59dd12fb54d1000000000000000000000000826ccd5ed8ca665555fe45a4f045b61516b241c0000000000000000000000000362fa9d0bca5d19f743db50738345ce2b40ec99f000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb4800000000000000000000000051e44ffad5c2b122c8b635671fcc8139dc636e8200000000000000000000000075901f889236bf48934b7c2ddb109bec172e232200000000000000000000000075901f889236bf48934b7c2ddb109bec172e2322000000000000000000000000362fa9d0bca5d19f743db50738345ce2b40ec99f00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000002329b12b980bf75c4e8c024a5baf18095401bd6bc367e3edbec02babfc105dd62f7f1e53d8758b7773b4b7b2d492487576633cd6975b08eab7f547d74f103288d9e300000000000000000000000000000000000000000000000000000000009896800000000000000000000000000000000000000000000000000000000062e9a50b000000000000000000000000000000000000000000000000000000000000026000000000000000000000000000000000000000000000000000000000000006c00000000000000000000000000000000000000000000000000000000000000da00000000000000000000000000000000000000000000000000000000000000e200000000000000000000000000000000000000000000000000000000000000424cf76d313000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000075901f889236bf48934b7c2ddb109bec172e2322f0233798a7cc8d4e424ed8de1c3704e92c9aaa80e2c1f0309748192c3ce23be400000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb48000000000000000000000000000000000000000000000000000000000000000000000000000000000000000075901f889236bf48934b7c2ddb109bec172e232200000000000000000000000000000000000000000000000000000000000023290000000000000000000000000000000000000000000000000000000000989680000000000000000000000000000000000000000000000000000000000000000e7472616e73666572746f2e78797a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000fcd2ce20ef8ed3d43ab4f8c2da13bbf1c6d9512f000000000000000000000000fcd2ce20ef8ed3d43ab4f8c2da13bbf1c6d9512f00000000000000000000000051e44ffad5c2b122c8b635671fcc8139dc636e82000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003fd55600000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000012418cbafe500000000000000000000000000000000000000000000000000000000003fd556000000000000000000000000000000000000000000000000215148992481614100000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000362fa9d0bca5d19f743db50738345ce2b40ec99f0000000000000000000000000000000000000000000000000000000062e5be90000000000000000000000000000000000000000000000000000000000000000300000000000000000000000051e44ffad5c2b122c8b635671fcc8139dc636e820000000000000000000000005842c5532b61acf3227679a8b1bd0242a41752f2000000000000000000000000d4949664cd82660aae99bedc034a0dea8a0bd517000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006c00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000997f29174a766a1da04cf77d135d59dd12fb54d1000000000000000000000000826ccd5ed8ca665555fe45a4f045b61516b241c0000000000000000000000000362fa9d0bca5d19f743db50738345ce2b40ec99f0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb480000000000000000000000000000000000000000000000000000000000989680000000000000000000000000000000000000000000000000000000000000232900000000000000000000000051e44ffad5c2b122c8b635671fcc8139dc636e82000000000000000000000000000000000000000000000000000000000047ef3f00000000000000000000000075901f889236bf48934b7c2ddb109bec172e23221e53d8758b7773b4b7b2d492487576633cd6975b08eab7f547d74f103288d9e30000000000000000000000000000000000000000000000000000000062e9a501b12b980bf75c4e8c024a5baf18095401bd6bc367e3edbec02babfc105dd62f7f000000000000000000000000362fa9d0bca5d19f743db50738345ce2b40ec99f000000000000000000000000000000000000000000000000000000000000024000000000000000000000000031efc4aeaa7c39e54a33fdc3c46ee2bd70ae0a0900000000000000000000000031efc4aeaa7c39e54a33fdc3c46ee2bd70ae0a090000000000000000000000000000000000000000000000000000000062e5b1b00000000000000000000000000000000000000000000000000000000000000424cf76d313000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000075901f889236bf48934b7c2ddb109bec172e2322f0233798a7cc8d4e424ed8de1c3704e92c9aaa80e2c1f0309748192c3ce23be400000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb48000000000000000000000000000000000000000000000000000000000000000000000000000000000000000075901f889236bf48934b7c2ddb109bec172e232200000000000000000000000000000000000000000000000000000000000023290000000000000000000000000000000000000000000000000000000000989680000000000000000000000000000000000000000000000000000000000000000e7472616e73666572746f2e78797a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000fcd2ce20ef8ed3d43ab4f8c2da13bbf1c6d9512f000000000000000000000000fcd2ce20ef8ed3d43ab4f8c2da13bbf1c6d9512f00000000000000000000000051e44ffad5c2b122c8b635671fcc8139dc636e82000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003fd55600000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000012418cbafe500000000000000000000000000000000000000000000000000000000003fd556000000000000000000000000000000000000000000000000215148992481614100000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000362fa9d0bca5d19f743db50738345ce2b40ec99f0000000000000000000000000000000000000000000000000000000062e5be90000000000000000000000000000000000000000000000000000000000000000300000000000000000000000051e44ffad5c2b122c8b635671fcc8139dc636e820000000000000000000000005842c5532b61acf3227679a8b1bd0242a41752f2000000000000000000000000d4949664cd82660aae99bedc034a0dea8a0bd517000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000418efaa81fcc4870165508c244c922fcc0c05c3d3ae3859b8be6a9a78975e7d3b2766b4787bbcd323165372467b088946364771892308c28097802386067bbad461c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";


// Create serializedTx and remove the "0x" prefix
const serializedTx = populateTransaction(contractAddr, inputData, chainID);

const devices = [
    {
        name: "nanos",
        label: "Nano S",
        steps: 10, // <= Define the number of steps for this test case and this device
    },
    {
        name: "nanox",
        label: "Nano X",
        steps: 7, // <= Define the number of steps for this test case and this device
    },
    {
        name: "nanosp",
        label: "Nano S+",
        steps: 7, // <= Define the number of steps for this test case and this device
    }
];

devices.forEach((device) =>
    processTest(device, contractName, testLabel, testDirSuffix, "", signedPlugin, serializedTx, testNetwork)
);
